<div ng-include="'components/layout/navbar/navbar.html'"></div>
<div ng-include="'components/layout/navbar/sub-navbar.html'"></div>
<div class="main-wrapper room-detail">
  <div class="container">
    <div class="row">

      <div class="page-header">
        <h2>Highlights</h2>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 highlights white-box">
        <div class="row">

          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <div class="picture">
              <img ng-src="https://maps.googleapis.com/maps/api/staticmap?center={{room.roomDetail.propertyDetails.coords.latitude}},{{room.roomDetail.propertyDetails.coords.longitude}}&zoom=14&size=400x250&markers=color:blue%7C{{room.roomDetail.propertyDetails.coords.latitude}},{{room.roomDetail.propertyDetails.coords.longitude}}">
            </div>
          </div>

          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 details">

            <strong class="value">
              {{room.roomDetail.roomDetails.monthlyPrice | currency}} mo.
            </strong>

            <p class='address'>
              {{room.roomDetail.propertyDetails.streetNumeric}} {{room.roomDetail.propertyDetails.streetAddress}} {{room.roomDetail.propertyDetails.apt}}, {{room.roomDetail.propertyDetails.city}}
              <span class="distance"> <i class="fa fa-marker"></i> miles from {{room.userCurrentAddressAndUnivCoords.univName}} </span>
            </p>

            <div ng-show="room.userCurrentAddressAndUnivCoords" class="distances">
              <!-- call google maps api to get distance from students address to students university of record .. walking, bus, driving -->

              <a class="distance-bubble">
                <i class="fa fa-car"></i>
                <span>5</span>
              </a>

              <a href="" class="distance-bubble">
                <i class="fa fa-bicycle"></i>
                <span>10</span>
              </a>

              <a class="distance-bubble">
                <i class="fa fa-child"></i>
                <span>15</span>
              </a>

            </div>

            <div ng-show="!room.userCurrentAddressAndUnivCoords">
              <a ui-sref="dashboard.myProfile">Update Profile to view distance from your university</a>
            </div>

            <table class="specs">
              <tr>
                <td><i class="fa fa-bed"></i> {{room.roomDetail.roomDetails.roomType}}</td>
                <td><i class="fa fa-shower"></i> {{room.roomDetail.roomDetails.sharedBathroom ? "Shared" : "Private"}} bathroom</td>
              </tr>
              <tr>
                <td><i class="fa fa-users"></i> {{room.roomDetail.roomDetails.numRoomates}} roommates</td>
                <td><i class="fa fa-calendar"></i> {{room.roomDetail.roomDetails.availableMoveIn | date }}</td>
              </tr>
            </table>

          </div>
        </div>

        <hr>

        <div class="row">

          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <a class="contact-bubble-email pull-right" ng-href="mailto:{{room.creatorEmail}}?Subject=Interested%20in%20your%20room" target="_top"><i class="fa fa-send fa-lg"></i></a>

            <!--<a class="contact-bubble-email" href="" target="_top"><i class="fa fa-facebook fa-lg"></i></a>-->
            <!-- Facebook link commented out for now -->

          </div>

        </div>

      </div>
    </div>

    <div class="row">
      <div class="page-header">
        <h2>Roommates</h2>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 roommates white-box">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" class="row roommate" ng-repeat="roommate in room.creatorRoommates">
          <div class="col-xs-2">
            <div class="picture">
              <img ng-if="roommate.relatedRoommateId.profileImage" ng-src="api/images{{roommate.relatedRoommateId.profileImage}}" alt="" class="img-circle">
              <i ng-if="!roommate.relatedRoommateId.profileImage" class="fa fa-user" style="font-size:80px"></i>
            </div>
          </div>
          <div class="col-xs-6 info">
            <span class="name"> {{roommate.relatedRoommateId.firstname}} {{roommate.relatedRoommateId.lastname}} </span>
            <span class="email">{{roommate.relatedRoommateId.email}}</span>
            <span class="university" ng-if="roommate.relatedRoommateId.usereducationUsers[0].educationCenterName">{{roommate.relatedRoommateId.usereducationUsers[0].educationCenterName}}</span>
            <span class="university" ng-if="!roommate.relatedRoommateId.usereducationUsers[0].educationCenterName">User didn't provide education data</span>
            <span class="city" ng-if="roommate.relatedRoommateId.addresshistoryUsers.length">{{roommate.relatedRoommateId.addresshistoryUsers[0].zip}} {{roommate.relatedRoommateId.addresshistoryUsers[0].city}} / {{roommate.relatedRoommateId.addresshistoryUsers[0].state}}</span>
            <span class="city" ng-if="!roommate.relatedRoommateId.addresshistoryUsers.length">User didn't provide address data</span>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="page-header">
        <h2>Details</h2>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 details white-box">
        <h3>Room description</h3>
        <p>
          {{room.roomDetail.roomDetails.description}}
        </p>

        <h3>Highlights</h3>

        <dl class="specs row">
          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

            <dl>

              <dt ng-show="room.roomDetail.roomDetails.securityDeposit">Security Deposit:&nbsp;&nbsp;</dt>
              <dd ng-show="room.roomDetail.roomDetails.securityDeposit">{{room.roomDetail.roomDetails.securityDeposit | currency}}</dd>

              <dt>Lease Terms:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.roomDetails.leaseType}}</dd>

              <dt>Bedrooms:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.propertyDetails.bedrooms}}</dd>

              <dt>Bathrooms:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.propertyDetails.bathrooms}}</dd>

            </dl>

          </div>

          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

            <dl>
              <dt>Parking Available:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.roomDetails.parkingAvailable | boolean}}</dd>

              <dt>Furnished:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.roomDetails.furnished | boolean}}</dd>

              <dt>Smoking Allowed:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.roomDetails.smokingAllowed | boolean}}</dd>

              <dt>Gender preference:&nbsp;&nbsp;</dt>
              <dd>{{room.roomDetail.roomDetails.gender}}</dd>
            </dl>

          </div>
        </dl>

      </div>
    </div>

  </div>
</div>
