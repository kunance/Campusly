<div class="main">
  <div ng-include="'components/layout/navbar/navbar.html'"></div>
  <section class="login-box white-box" ng-show="!signup.errors.verification" ng-if="!signup.loading">
    <h2 class="heading">Sign up for free</h2>

    <form class="main-form" name="form" ng-submit="signup.register(form)" novalidate>

      <label class="lbl">
        <input type="text" name="firstname" ng-model="signup.user.firstname" placeholder="First name" ng-class="{'has-success': form.firstname.$valid && signup.submitted, 'has-error': form.firstname.$invalid && signup.submitted}" required/>
      </label>

      <label class="lbl">
        <input type="text" name="lastname" ng-model="signup.user.lastname" placeholder="Last name" ng-class="{'has-success': form.lastname.$valid && signup.submitted, 'has-error': form.lastname.$invalid && signup.submitted}" required/>
      </label>

      <label class="lbl">
        <input type="email" name="email" ng-model="signup.user.email"  placeholder="Your email address (.edu required)" ng-class="{ 'has-success': form.email.$valid && signup.submitted, 'has-error': form.email.$invalid && signup.submitted }" required>
      </label>

      <label class="lbl">
        <input type="password" name="password" ng-model="signup.user.password" ng-minlength="8" placeholder="Password (minimum 8 characters)" ng-class="{ 'has-success': form.password.$valid && signup.submitted, 'has-error': form.password.$invalid && signup.submitted }" required>
      </label>

        <div class="top15">
          <p class="help-block" ng-show="form.firstname.$error.required && signup.submitted">A first name is required</p>
          <p class="help-block" ng-show="form.lastname.$error.required && signup.submitted">A last name is required</p>
          <p class="help-block" ng-show="form.email.$error.required && signup.submitted">Please enter a valid .edu email address</p>
          <p class="help-block" ng-show="form.email.$error.email && signup.submitted">Please enter a valid .edu email address</p>
          <p class="help-block" ng-show="!form.email.$error.email && !form.email.$error.required && form.email.$invalid && signup.submitted">Please enter a valid .edu email address</p>
          <p class="help-block" ng-show="form.password.$error.required && signup.submitted">Please enter a valid password</p>
          <p class="help-block" ng-show="form.password.$error.minlength && signup.submitted">Password must be at least 8 characters.</p>
          <p class="help-block" ng-show="signup.errors.email">{{ signup.errors.email }}</p>
        </div>

      <p class="help-block" ng-show="form.password.$error.mongoose">{{ signup.errors.password }}</p>
      <p class="help-block">{{ signup.errors.other }}</p>
      <div class="options">
        <input type="submit" value="Sign me up!" class="btn-rented-large primary">
        <span>Already have an account? <a class="link" ui-sref="login">Sign in</a></span>
      </div>

    </form>
  </section>

  <section class="login-box white-box" style="height: 120px" ng-if="signup.loading">
    <div class="col-xs-1 col-sm-1">
      <div class="post-bubble">
        <i class="fa fa-spinner fa-spin fa-lg"></i>
      </div>
    </div>
    <div class="col-xs-11 col-sm-11">
      <dl style="margin-top: 20px; margin-left: 20px">
        <dt>Sending verification e-mail. Please wait...</dt>
      </dl>
    </div>
  </section>

  <section class="login-box white-box " style="text-align: center" ng-show="signup.errors.verification">
    <h2 class="heading">Hello&nbsp{{signup.user.firstname}},</h2>
    <i class="fa fa-envelope-o fa-5x"></i>
    <h4>Please verify your university email address <br>in the next 30min. <br><br>Verification email has been sent to {{signup.user.email}}.</h4>
  </section>

</div>
